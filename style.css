
:root{
  --bg:#0b0b0c;
  --panel:#151517;
  --muted:#8f9096;
  --text:#fafafa;
  --accent:#ff9500; /* iOS Calculator orange */
  --red:#ff3b30;    /* IN background */
  --blue:#0a84ff;   /* MM background */
  --green:#34c759;
  --card:#1b1c1f;
  --border:#2a2b2e;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:16px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text); background:var(--bg);
}
a{color:#b3d7ff}
.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 20px; border-bottom:1px solid var(--border);
  position:sticky; top:0; background:linear-gradient(180deg,var(--bg),rgba(11,11,12,.9));
  backdrop-filter: blur(6px); z-index:5;
}
.brand{display:flex; align-items:center; gap:12px}
.logo{width:36px; height:36px}
h1{font-size:20px; margin:0}
.subtitle{margin:0; color:var(--muted); font-size:12px}
.unit-toggle{
  position:relative; display:flex; align-items:center; gap:8px;
  background:linear-gradient(90deg,var(--red),var(--blue));
  padding:8px; border-radius:999px; box-shadow:var(--shadow);
  width:180px; justify-content:space-between;
}
.unit-toggle .pill{
  flex:1 1 0; height:34px; border-radius:999px; border:none; cursor:pointer;
  background:transparent; color:#fff; font-weight:700; letter-spacing:.5px;
  opacity:.75; transform:scale(.96); transition:opacity .2s, transform .2s;
}
.unit-toggle .pill.active{opacity:1; transform:scale(1.05)}
.unit-toggle .knob{
  position:absolute; top:6px; left:6px; width:84px; height:38px; border-radius:999px;
  background:rgba(0,0,0,.35); box-shadow:inset 0 0 0 1px rgba(255,255,255,.08), var(--shadow);
  transition:left .25s ease;
}
.unit-toggle .pill.in.active ~ .knob{left:6px}
.unit-toggle .pill.mm.active ~ .knob{left:90px}

main{max-width:1100px; margin:24px auto; padding:0 16px; display:grid; gap:24px}
.panel{
  background:var(--panel); border:1px solid var(--border); border-radius:16px;
  box-shadow:var(--shadow);
}
.panel-header{
  display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border);
}
.panel-header h2{margin:0; font-size:16px}
.panel-actions{display:flex; align-items:center; gap:10px}
.action{
  padding:8px 12px; border-radius:12px; border:1px solid var(--border);
  background:var(--card); color:var(--text); cursor:pointer; font-weight:700;
}
.action.primary{background:var(--accent); color:#111; border-color:#000}
.action.ghost{background:transparent}
.small{font-size:12px}
.hidden{display:none}

.table-wrap{padding:8px 12px 14px}
table{width:100%; border-collapse:collapse; background:transparent}
thead th{color:var(--muted); font-weight:700; text-align:left; border-bottom:1px solid var(--border); padding:8px}
tbody td{padding:6px 8px; border-bottom:1px solid var(--border)}
tbody tr:last-child td{border-bottom:none}
td.idx{color:var(--muted); width:44px}
td input{
  width:100%; padding:8px 10px; border-radius:12px; border:1px solid var(--border);
  background:#101012; color:var(--text); outline:none;
}
td .del{
  appearance:none; border:none; background:#222; color:#ddd; padding:6px 10px; border-radius:10px; cursor:pointer;
}
.help{color:var(--muted); margin:8px 2px 0}

.results .grid{
  display:grid; grid-template-columns: repeat(6, 1fr);
  gap:12px; padding:16px;
}
.metric{
  background:var(--card); border:1px solid var(--border); border-radius:14px; padding:10px 12px;
}
.metric .label{color:var(--muted); font-size:12px}
.metric .value{font-size:20px; font-weight:800; margin-top:4px}

#preview{width:100%; height:auto; display:block; border-top:1px solid var(--border); background:#0f0f10; border-bottom-left-radius:16px; border-bottom-right-radius:16px}

.app-footer{
  display:flex; justify-content:space-between; padding:20px; color:var(--muted); font-size:13px; border-top:1px solid var(--border);
}

/* Responsive */
@media (max-width: 960px){
  .results .grid{grid-template-columns: repeat(3, 1fr)}
}
@media (max-width: 640px){
  .results .grid{grid-template-columns: repeat(2, 1fr)}
  .unit-toggle{width:160px}
  .unit-toggle .knob{width:72px}
}
